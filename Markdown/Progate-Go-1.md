# Progate

## Go学習コース1

### 1章：Goに触れてみよう

#### 1. Goに触れてみよう

##### Goとは

Goは、Googleが開発したプログラミング言語。文法がシンプルで学びやすく、チーム開発にも向いている。特徴は実行速度が速いこと。開発速度が重要なスタートアップから大規模なシステム開発まで、さまざまな開発現場で利用が増えてきている言語。

##### Goを動かしてみよう

まずはコンソールという部分に文字を表示する。main.goというファイルのprintln()の()の中に文字を書くと、()の中身がコンソールに表示される。

```go
package main
func main() {
  println("Hello, 世界")
}
```

### 2章：Goの基礎を学ぼう

#### 2. GoのFormat

##### コードの整形

プログラムは人が読み書きするものなので「読みやすいように書く」ことが大切。たとえば、空白やインデント（文頭の字下げ）が統一されている方が読みやすい。Goにはこの統一の仕方にもルールがある。

#### 3. Goの基本

##### 文字列とは

先ほど出力した"Hello, Go"は、プログラミングの世界で「**文字列**」と呼ばれる。文字列はダブルクォーテーション（"）で囲む必要がある。" "で囲んでいないとエラーが発生する。また文字列の中身は全角（日本語など）も可能だが、ダブルクォーテーションは必ず半角で記述する。

##### 出力の命令

先ほど用いた**println**というのは、Goが用意している「命令」の1つ。「コンソールにprintln()の中のものを出力せよ」という命令で、コンピューターが文字列をコンソールに出力する。プログラミングではこのようにさまざまな命令を組み合わせて、コンピューターに処理を行わせる。なお、printlnのlは**小文字のエル**なので注意。

##### プログラムの構成

Goのコードが書かれたファイルには、パッケージ定義部や関数定義部によって構成されている。ここでは、「package main」と書かれたファイルの、**main関数の{ }の中**に命令を書くと、それが順に実行されると思っておけば大丈夫。

##### コメントの書き方

プログラムには、コメントを書くことができる。コメント部分は処理が行われないので、プログラムに関するメモなどを残しておくとよい。コメントの書き方にはブロックコメントと行コメントの2種類がある。ブロックコメントは **/\*** と **\*/** で挟まれた部分をコメントとし、行コメントは **//**（スラッシュが2つ）から行末までをコメントとする。

#### 4. 数値

##### 数値を扱おう

Goでは、数値を扱うこともできる。数値は文字列と違いダブルクォーテーションで囲まない。また数値は足し算や引き算といった計算も可能。足し算には「**+**」、引き算には「**-**」の記号を用いる。数値と記号は、すべて半角で記述することに気をつける。

##### 数値と文字列の違い

プログラミングでは、数値と文字列はまったく別のもの。以下のコードは、どちらも「1 + 3」を出力しているように見えるが、上の方は数値の足し算が行われ「4」が出力される。一方、下の方はダブルクォーテーションで囲まれているため、「1 + 3」という文字列がそのまま出力される。なお、文字列の出力でも、コンソールにダブルクォーテーションは出力されない。

```go
package main
func main() {
  println(1 + 3)    // 「4」が出力
  println("1 + 3")  // 「1 + 3」が出力
}
```

#### 5. 数値の計算

##### 演算を行おう

Goでは、足し算や引き算の他にもさまざまな演算（計算）を行う事ができる。たとえば、掛け算は「**\***」を、割り算は「**/**」を用いる。また「**%**」は割り算した余りを求めることができる。このような演算に用いる記号を「演算子」と呼ぶ。演算子の種類はプログラミング言語によって異なり、Goにもさまざまな演算子が存在する。

#### 6. 文字列の連結

##### 文字列の連結

Goでは、数値同士以外でも演算を行うことができる。「+」という演算子は数値の場合は足し算が行われるが、文字列に対して使うと、文字列を連結し1つの文字列にする。

```go
package main
func main() {
  println("Hi," + "Gophers")  // 「Hi,Gophers」を出力
}
```

##### 文字列と数値の違い

「+」演算子を使った演算は、数値と文字列で挙動が異なる。たとえば「3 + 5」は「8」になるが、「"3" + "5"」は「35」という文字列になる。

### 3章：変数を使ってみよう

#### 7. 変数の基本

##### 変数とは

変数は、データ（値）をいれておく箱だとイメージする。またその箱（**変数**）には名前（**変数名**）がついており、その名前を用いていつでも変数から値を取り出すことができる。変数はプログラミングの必須の知識なので、しっかり理解する。

##### 変数とデータ型

変数を利用するには、まず変数を定義する必要がある。「**var 変数名 データ型**」と書くことで、変数を定義できる。なお、varはvariableの略で、英語で変数という意味。varと書くことで、コンピューターに変数を作ることを指示している。

##### データ型

文字列や数値という値の種類は、「データ型」と呼ばれる。**string**は連続した文字（つまり文字列）、**int**は整数（integer）を意味する英語。

##### 変数を使ってみよう

「**n = 100**」は変数nに100という値を入れる（代入する）という命令。数学の「**=**」と違って「左と右が等しい」ことを意味するわけではなく、変数という箱に値を入れるための記号だと覚えておく。また、**println(n)** とすれば、変数nの中に入っている値をコンソールに出力することができる。

```go
package main
func main() {
  var n int
  n = 100
  println(n)
}
```

##### 定義と代入

「**var n int = 100**」のように書くことで、変数の定義と代入を同時に行うことができる。

#### 8. 変数の更新

##### 変数の値の更新

変数は、中に入っている値を何度でも上書き（更新）することができる。値を更新するためには、「=」を使って新しい値を代入するだけ。下の例では、変数nを2度コンソールに出力しているが、100と200が出力されている。これは、2回目のprintlnの前に、変数nに200が代入されて値が更新されているため。

```go
package main
func main() {
  var n int = 100
  println(n)
  n = 200
  println(n)
}
```

#### 9. 色々な変数の作り方

##### データ型の省略

Goでは、「var a int = 100」のように、変数定義と値の代入を同時に行う場合、データ型の指定を省略することができる。以下のコードでは、「**var a = 100**」とintが省略されている。これは100が整数であるため、そこから変数aに代入される値のデータ型がint型であるということが明らかなため。

```go
package main
func main() {
  var a = 100  // int型であることが省略されている
  println(a)
}
```

##### 変数定義の省略した書き方

データ型を省略した変数定義は、さらに簡単に書くことができる。「**b := 200**」のように書くと、「var b int = 200」と同じ意味になる。=（イコール）ではなく **:=**（コロンとイコール）であることに注意。便利な書き方なので、基本的にこれを使っていけばよい。

##### printlnの便利な書き方

以下のコードは、printlnの()内に変数aとbをコンマで区切って並べて書いている。こうすると、2つの値を同時に出力することができる。なお、コンマは出力されず、スペースで区切られて1行で表示される。

```go
package main
func main() {
  a := 100
  b := 200
  println(a, b)
}
```

#### 10. 変数とエラー

##### 変数定義と代入の違い

変数定義の「**:=**」と、代入の「**=**」の違いに注意。Goでは同じ変数を複数回定義できない。たとえば「a := 100」「a := 200」と**2度変数aを定義している**ためエラーとなる。コンソールには、英語で「:=の左側に新しい変数がない」という意味のエラーが表示される。変数の値の代入・更新は「:=」ではなく「=」なので、注意。

```go
package main
func main() {
  a := 100
  a := 200 // エラー発生
  println(a)
}
```

##### 変数が使える場所

変数は、定義したあとでしか使うことができない。以下のコードでは、変数nの定義より先に使用しているため、エラーが発生する。コンソールには、「変数nが定義されていない」ことを表すエラー文が表示される。

```go
package main
func main() {
  println(n)  // エラーが発生
  n := 100
  println(n)  // ここは使える
}
```

##### 使わない変数

Goでは、定義したものの使っていない変数があるとエラーになる。使っていない変数の存在はバグ（不具合）の原因となることが多いため、Goではエラーを発生させて、バグを未然に防ぐ設計となっている。

##### 型の不一致

変数のデータ型と異なるデータ型の値は代入できない。たとえば、int型で定義した変数（n := 100）にstring型の値を代入すると、「string型の値をint型として代入することはできません」というエラーが表示される。Go言語では、エラー文を読むと間違っている箇所が発見できる。エラーは英語で表示されるが、積極的に読むようにしてみよう。

#### 11. 変数と自己代入

##### 変数の演算

変数は値と同じように扱えるので、変数を使って演算を行うことも可能。下の例では、変数nと数値の足し算や、変数同士の足し算を行っている。

```go
// 変数nと数値の足し算
package main
func main() {
  n := 10
  println(n + 20)  // 30
}

// 変数同士の足し算
package main
func main() {
  a := 10
  b := 20
  println(a + b)  // 30
}
```

##### 自己代入

コードの「**n = n + 20**」は、算数のように考えると不思議に思うかもしれない。しかし、Goにおいて「=」は「代入」を表すため問題ない。n = n + 20は、現在のnの値である10に数値の20を足して、それを再度nに代入している（「自己代入」と呼ぶ）。そのため、最終的にnの値は30となり、コンソールに30が表示されている。

```go
package main
func main() {
  n := 10
  n = n + 20
  println(n)  // 30
}
```

##### 自己代入の省略

「変数の値を演算した結果を、再度同じ変数に代入する」という自己代入は、プログラミングにおいて度々登場する。そのため、Goでは省略した書き方が用意されている。たとえば「n = n + 10」は「**n += 10**」と省略でき、これは「-」「*」「/」「%」でも同様。

|原型|省略型|
|:--|:--|
|n = n + 10|n += 10|
|n = n - 5|n -= 5|
|n = n * 3|n *= 3|
|n = n / 2|n /= 2|
|n = n % 2|n %= 2|

n = n + 1やn = n - 1など変数に1を足す、もしくは1を引く場合には、さらに省略した書き方が可能。「**++**」という記号は「変数に1を足す」という意味。反対に「**--**」は「変数から1を引く」という意味。よく使うので、必ず覚えておく。

### 4章：真偽値と条件分岐

#### 12. if文を使ってみよう

##### 条件分岐とは

プログラミングでは、とある条件に当てはまるか同課によって処理を分けることがよくある。たとえば「テストの点数（条件）によって成績（処理）を変える」というのも条件分岐。

##### if文

if文を用いると「もし〇〇ならば××を行う」という条件分岐が可能になる。ifの後に条件式を指定し、その条件が成り立つとき、{}の中が実行される。

```go
package main
func main() {
  score := 100
  if score >= 80 {
    println("よくできました")
  }
}
```

##### if文の条件式

条件式では、2つの値を比較するための記号「比較演算子」がよく使われる。これらは数学でも用いるような **<** , **>** という大小比較の記号。ただし、数学で用いる≧, ≦という記号（以上や以下を表す）は、Goでは、**>=**, **<=** と記述する。if分は、**if 条件式 { 処理 }** というように記述する。

- 比較演算子 - 大小を比べる
  - x < y : xがyより小さい時成り立つ
  - x <= y : xがyより小さいまたは等しい時成り立つ
  - x > y : xがyより大きい時成り立つ
  - x >= y : xがyより大きいまたは等しい時成り立つ

#### 13. 真偽値

##### 真偽値

if文の比較演算子を用いた条件式の部分を出力してみると「true」が出力される。

##### 真偽値とは

「true」は真偽値と呼ばれるもの。真偽値を扱うデータ型、「**真偽値型**」には「**true**」と「**false**」という2つの値が存在する。比較演算子を用いた条件式は、成り立つときは「true」、成り立たないときは「false」という値になる。

##### if文と真偽値

if文では条件式がtrueのときには処理が実行され、falseのときには処理は実行されない。

##### 比較演算子

比較演算子には、>と>=と言った値の大きさを比較する記号以外に、値の等しさを比較する記号も存在する。数学では、左右の値が等しい場合に「=」を用いて表現するが、Goでは「=」は代入を意味する。「等しいかどうか」は「**==**」を使うので注意。

- 比較演算子 - 等しいかを調べる
  - x == y : 左右の値が等しい時**true**
  - x != y : 左右の値が等しくない時**true**

#### 14. else

##### else

if文に「**else**」を組み合わせることで「もし〇〇ならば●●を行う、そうでなければ▲▲を行う」という条件分岐ができるようになる。if文の条件がfalseのとき、elseの処理が実行される。

#### 15. else if

##### else if

if文で、条件が成り立たなかった場合に、さらに条件を指定して分岐したい場合は、「**else if**」を用いる。else ifを用いると、「もし○○ならば●●を行う、△△ならば▲▲を行う、どちらでもなければ□□を行う」という処理ができるようになる。

「else if」はいくつでもつなげて書くことができるが、上から順に条件が成り立つか判断され、最初に条件が合致した部分の処理だけ行われる。

#### 16. 条件式を組み合わせよう

##### かつ（&&）

複数の条件式を組み合わせる方法を学ぶ。「条件1も条件2も成り立つかどうか」という条件式は「**&&**」を用いて、「条件1 && 条件2」のように書く。&&は日本語の「**かつ**」にあたる。&&を用いて複数の条件式を組み合わせると、すべての条件式がtrueのの場合のみ全体としてtrueとなる。

- 論理演算子 - &&
  - true && true -> true
  - true && false -> false
  - false && true -> false
  - false && false -> false

##### または（||）

「条件1か条件2のどちらかが成り立つか」という条件式は「**||**」を用いて、「条件1 || 条件2」のように書く。||は日本語の「**または**」にあたる。||を用いて複数の条件式を組み合わせると、複数の条件式のうち1つでもtrueであれば全体がtrueとなる。

- 論理演算子 - ||
  - true || true -> true
  - true || false -> true
  - false || true -> true
  - false || false -> false

##### 否定（!）

「**!**」を用いると、条件の否定をすることができる。**!(条件式)** とすると、条件式が「true」であれば「false」に、「false」であれば「true」になる。

#### 17. switch

##### switch文

条件分岐にはif文のほかに、**switch**文という構文もある。switch文は以下のように書き、条件の値が**case**の値と一致するとき、処理が実行される。switch文は構文が少し複雑。caseの後ろのコロン（:）などは忘れがちなので注意。

```go
switch 条件の値 {
  case 値1:
    // 処理
  case 値2:
    // 処理
  default:
    // 処理
}
```
##### if文とswitch文

switch文は「とある値が何であるか」で処理を分けたいとき（とくにその分岐が多いとき）、if文よりシンプルに書ける場合がある。

##### 複数の値を指定する

caseのあとの値は、コンマ（**,**）を用いて複数指定することができる。コンマで複数の値を指定すると、switchの値がいずれかに一致すれば、そのcaseの処理が実行される。これは論理演算子の||（または）を用いて、複数の条件を指定するのと似ている。

##### default

switch文では、どのcaseとも一致しなかったときに実行する処理を、**default**に指定することができる。これはif文のelseに似ている。
