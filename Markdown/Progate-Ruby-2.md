# Progate

## Ruby学習コース2

### 1章 : 配列と繰り返し

#### 1. 配列とは

##### 複数の値をまとめて扱おう

まずは、複数の値をまとめて扱う方法について学ぶ。たとえば、ユーザーの名前についての値がいくつもあるとき、それぞれを変数として定義するより、「ユーザーの名前一覧」といったように、関連する値をまとめて管理すると便利。

##### 配列とは

複数の値をまとめて管理するには、**配列**というものを用いる。配列は、**[値1, 値2, 値3]**のように作る。配列に入っているそれぞれの値のことを**要素**と呼ぶ。配列を使うと、複数の文字列や数値をまとめて書くことができる。

- 配列
- 要素

##### 配列を変数に代入する

配列も1つの値なので、変数に代入することができる。配列を代入する変数名は慣習上、複数形にすることが多い。

- 配列
- 変数

#### 2. 配列を使ってみよう

##### インデックス番号

配列の要素には、前から順に「0, 1, 2, ...」と数字が割り振られている。これを**インデックス番号**という。インデックス番号は**0から始まる**ことに注意する。

- 配列
- インデックス番号

##### 配列の要素を用いる

配列の各要素は、**配列[インデックス番号]** とすることで用いることができる。たとえば、names[1]とすると、配列namesの2つ目の要素の値を用いることができる。

- 配列
- インデックス番号

##### 配列の要素と変数展開

変数の場合と同様に、配列の要素の値も**変数展開**を用いて文字列の中に含めることができる。

- 変数展開

#### 3. each文

##### 繰り返し処理

- 繰り返し処理

##### each文の書き方

繰り返し処理には、**each文**というものを使う。each文を使うと、配列の要素を順番に取り出して処理を行うことができる。each文は「**配列.each do |変数名|**」と書き、「**end**」までの間に実行したい処理を書く。

- each文

##### each文の仕組み

each文は配列の要素の数だけ繰り返し処理を行う。「|」で囲まれた変数に配列の要素が1つずつ入っていき、その上でeach文の中の処理が実行されていく。each文内の変数名（name）は好きな名前をつけられるが、配列の変数名（names）の単数形にすることが慣習上多い。

- each文

##### each文の流れ

each文では、配列の要素が1つずつ変数に代入され、each文の中の処理が実行される、というイメージが大切。

- each文

#### 4. 変数の使える範囲

##### each文の中の変数

each文で各要素が1つずつ代入される|変数|は、each文の中、つまりeach文のdoからendまでの間でしか使用することはできない。each文の外で|変数|を使うとエラーになるので、注意する。

- each文

##### each文の外の変数

一方、each文の外で定義した変数は、each文の中でも使うことができる。それぞれの変数の使用できる範囲のことを**スコープ**と呼ぶ。

- スコープ
- each文

### 2章 : ハッシュとシンボル

#### 5. ハッシュとは

##### ハッシュとは

複数の値をまとめて管理する方法としては、配列の他にも**ハッシュ**というものがある。配列は複数の値を並べて管理するのに対して、ハッシュはそれぞれの値に**キー**と呼ばれる名前をつけて管理する。

- ハッシュ
- キー

##### ハッシュのつくり方

ハッシュは、**{キー1 => 値1, キー2 => 値2}** のようにつくる。配列は要素を[]で囲んだが、ハッシュは **{}** で囲む。キーと値の間は「**=>**」でつなぐ。また配列と同様に、要素と要素はコンマ（,）で区切る。

- ハッシュ

##### ハッシュを変数に代入する

ハッシュも1つの値なので、配列と同様に、変数に代入することができる。

- ハッシュ

#### 6. ハッシュを使ってみよう

##### ハッシュの要素を用いる

ハッシュの各要素の値は、対応するキーを使って、**ハッシュ[キー]** とすることで用いることができる。user["name"]とすると、ハッシュuserのキー「"name"」と対応している値を用いることができる。

- ハッシュ

##### ハッシュの要素を更新する

**ハッシュ[キー] = 値**と書くことで、キーと対応している値を更新することができる。

- ハッシュ

##### ハッシュに要素を追加する

**ハッシュ[新しいキー] = 値**と書くことで、ハッシュに新しい要素を追加することができる。ただし、ハッシュにすでにあるキーを指定すると、要素の追加ではなく更新になってしまうので注意する。

- ハッシュ

#### 7. シンボルとは

##### ハッシュの書き方

ハッシュは、キーの部分を文字列ではなく、先頭にコロン「:」を付けた書き方をすることもできる。この「:name」という書き方のことを**シンボル**と言う。

##### シンボルとは

**シンボル**とは、文字を「"」や「'」で囲む代わりに、先頭に「:」をつけた書き方のことをいう。文字列とシンボルは厳密には異なるが、基本的には同じように使用することができる。

- シンボル

##### ハッシュのキーにシンボルを用いる

シンボルは、ハッシュのキーとしてよく使われる。ハッシュのキーの部分を「:name」という様に、シンボルを用いた場合には、その値を用いる時も「user[:name]」とシンボルで指定する必要がある。この際、キーに文字列を指定してもうまくいかないので注意する。

- ハッシュ
- シンボル

#### 8. ハッシュのキーの書き方

##### キーがシンボルのハッシュの省略（1）

ハッシュのキーにシンボルを用いるときには、省略した書き方をすることができる。具体的には「:key =>」を「**key:**」というように省略することができる。

- シンボル

##### キーがシンボルのハッシュの省略（2）

省略した書き方の場合でも、あくまでキーはシンボルなので、要素を取得する場合にはシンボルを用いる必要がある。

##### ハッシュの書き方のまとめ

ハッシュには3通りの書き方がある。

```ruby
# キーが文字列の書き方
{ "name" => "Suzuki", "age" => 21 }

# キーがシンボルの書き方
{ :name => "Suzuki", :age => 21 }

# キーがシンボルの書き方（省略形）
{ name: "Suzuki", age: 21 }
```

### 3章 : nilとさまざまな配列

#### 9. nilとは

##### 存在しないキーを指定する

存在しない「:weight」というキーの値を表示しようとした場合、なにも出力されない。これは「user[:weight]」の値が「何もない」ため。

- ハッシュ
- nil

##### nilとは

ハッシュから存在しないキーの値を取り出した時の「何もない」という値は、Rubyでは「**nil**」（読み方：ニル）という特別な値で表現される。「nil」は「何もない」という意味なので、putsしても何も表示されない。

#### 10. if nil

##### nilを回避する

- nil

##### ifとnil

ifの条件には、真偽値（trueとfalse）以外も使うことができる。Rubyでは、ifの条件に真偽値以外を用いたとき、それがnilであればfalseとして扱われ、それ以外はtrueとして扱われる。

- if文
- nil

##### nilを利用したif文

「if ハッシュ[キー]」とすることで、値がない場合、すなわちnilの場合はfalseとして扱われる。ifの条件がnilやfalseでない場合は、if側の処理が実行される。一方、ifの条件に「nil」が入る場合は、else側の処理が実行される。

- if文
- nil

#### 11. 要素がハッシュである配列（1）

##### 配列の要素にハッシュを入れる

配列の要素には、文字列や数値だけでなく、ハッシュも使うことができる。その際、コードが横に長くなることを防ぐために、要素ごとに改行することがよくある。

- 配列
- ハッシュ

##### 配列の要素を確認する

配列の要素には、先頭からインデックス番号が割り振られている。配列の値がハッシュの配列は、**配列[インデックス番号]** で対応するハッシュを用いることができる。

- 配列
- インデックス番号



#### 12. 要素がハッシュである配列（2）

##### 配列の中のハッシュ

配列[インデックス番号]でハッシュを用いることができるので、そのハッシュを代入した変数をつかって、**変数[キー]** とすることでハッシュの要素の値を用いることができる。

- ハッシュ

##### ハッシュの値を1行で確認する

**配列[インデックス番号][キー]** で、特定のハッシュの値を用いることができる。

- 配列
- ハッシュ

#### 13. 要素がハッシュである配列（3）

##### eachを使う

ハッシュが値の配列でeachを使うと、変数がハッシュになる。これは、変数に、配列の各要素が順番に代入されるため。

- each文

##### eachの中でハッシュの値を使う

|変数|にはハッシュが代入されているので、変数[キー]とすることで、ハッシュの中の値を使うことができている。

### 4章 : 課題にチャレンジしよう

#### 14. 総合課題（1）

#### 15. 総合課題（2）
